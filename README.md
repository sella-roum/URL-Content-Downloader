# URL Content Downloader

指定された複数のURLからウェブページの本文コンテンツを効率的に抽出し、柔軟な形式でダウンロードできる高機能なWebアプリケーションです。ReactとTypeScriptで構築されており、処理状況の永続化や豊富なダウンロードオプションを提供します。

## ✨ 主な機能

* **一括コンテンツ抽出**:
    テキストエリアにURLをリスト形式で貼り付けるだけで、すべてのページのコンテンツを並行して取得します。

* **リアルタイム進捗確認**:
    各URLの処理状況（待機中、完了、エラー）がリアルタイムでリストに表示されます。ステータスごとのフィルタリングも可能です。

* **多彩なダウンロードオプション**:
    * **ファイルのまとめ方**: URLごとに個別のテキストファイルとして保存するか、すべてのコンテンツを一つのファイルに結合するかを選択できます。
    * **ダウンロード形式**: ファイルを個別にダウンロードするか、一つのZIPアーカイブにまとめてダウンロードするかを選べます。
    * **ファイルサイズ制限**: ファイルが大きくなりすぎるのを防ぐため、1ファイルあたりの最大サイズ（KB）を指定して、コンテンツを分割または切り詰めることが可能です。

* **状態の永続化**:
    処理の進捗状況はブラウザのIndexedDBに自動で保存されるため、ページをリロードしても作業内容が失われません。

* **便利なリスト管理**:
    * **再試行**: 取得に失敗したURLだけを対象に、簡単に再試行できます。
    * **クリア**: 完了した項目や、すべての履歴を一括でクリアする機能があります。

## 🛠️ 技術スタック

* **フロントエンド**: React, TypeScript
* **ビルドツール**: Vite
* **状態管理**: React Context API & `useReducer`
* **クライアントサイドストレージ**: IndexedDB
* **外部ライブラリ**: JSZip (ZIPファイル生成用)
* **外部API**: Jina AI Reader API (コンテンツ抽出用)

## 🚀 ローカルでの実行方法

**前提条件:** [Node.js](https://nodejs.org/) がインストールされていること。

1.  **リポジトリをクローンします:**
    ```bash
    git clone <repository-url>
    cd url-content-downloader
    ```

2.  **依存関係をインストールします:**
    ```bash
    npm install
    ```

3.  **開発サーバーを起動します:**
    ```bash
    npm run dev
    ```

4.  ブラウザで `http://localhost:3000` を開きます。

## 📖 使い方

### 1. コンテンツの抽出

1.  上部のテキストエリアに、コンテンツを抽出したいウェブページのURLを1行に1つずつ入力します。
2.  「抽出を開始」ボタンをクリックすると、各URLの処理が始まります。
3.  下部の進捗リストにURLが表示され、ステータスが「待機中」から「完了」または「エラー」に変わるのを確認できます。

### 2. コンテンツのダウンロード

1.  コンテンツの抽出が完了した項目が1つ以上ある場合、ダウンロードパネルが表示されます。
2.  **ダウンロード対象**を選択します。
    * `URL単位で選択`: ダウンロードしたい特定のURLにチェックを入れます。
    * `完了したものをすべてダウンロード`: ステータスが「完了」のすべてのURLを対象にします。
3.  **ファイルのまとめ方**と**ダウンロード方法**をお好みに合わせて設定します。
4.  必要に応じて**1ファイルあたりの最大サイズ**を調整します（0は無制限）。
5.  「ダウンロード」ボタンをクリックして、ファイルを保存します。

### 3. リストの管理

* **失敗を再試行**: ネットワークエラーなどで取得に失敗したURLがある場合に、このボタンで失敗したURLのみを再度処理します。
* **完了をクリア**: リストから完了した項目のみを削除します。
* **すべてクリア**: 入力したURLや進捗リストなど、すべての履歴をリセットします。
